{"version":3,"file":"view.js","mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMA,WAAW,GAAG,MAAAA,CAAA,KAAU;EAG1B,IAAIC,QAAQ,GAAIC,QAAQ,CAACC,aAAa,CAAC,mCAAmC,CAAC;EAE3E,IAAIC,MAAM,GAAIH,QAAQ,CAACI,YAAY,CAAC,cAAc,CAAC;EAGnD,MAAMC,IAAI,GAAG;IACTC,KAAK,EAAEL,QAAQ,CAACC,aAAa,CAAC,aAAa,CAAC,CAACK,KAAK;IAClDC,WAAW,EAAEP,QAAQ,CAACC,aAAa,CAAC,oBAAoB,CAAC,CAACK;EAC9D,CAAC;EAID,IAAI;IAIA,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAACP,MAAM,EAAE;MACjCQ,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACV,IAAI;IAC7B,CAAC,CAAC;IAEF,IAAI,CAACI,QAAQ,CAACO,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,CAAC,6BAA6B,CAAC;IAClD;IAEA,MAAMC,YAAY,GAAG,MAAMT,QAAQ,CAACU,IAAI,CAAC,CAAC;IAE1C,IAAGD,YAAY,CAACE,MAAM,IAAI,MAAM,EAAC;MAG7BC,KAAK,CAACH,YAAY,CAACI,IAAI,CAAC;IAE5B,CAAC,MAAI;MAED,IAAIA,IAAI,GAAGrB,QAAQ,CAACsB,aAAa,CAAC,KAAK,CAAC;MAExCD,IAAI,CAACE,EAAE,GAAG,cAAc;MACxBF,IAAI,CAACG,SAAS,GAAI,sFAAqFP,YAAY,CAACI,IAAK,YAAW;MACpItB,QAAQ,CAAC0B,WAAW,CAACJ,IAAI,CAAC;IAE9B;;IAEA;EACJ,CAAC,CAAC,OAAOK,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;IAC9B;EACJ;AAEJ,CAAC;AAED1B,QAAQ,CAAC4B,gBAAgB,CAAC,kBAAkB,EAAC,MAAI;EAI7C,IAAIC,IAAI,GAAI7B,QAAQ,CAACC,aAAa,CAAC,0BAA0B,CAAC;EAE9D4B,IAAI,CAACD,gBAAgB,CAAC,QAAQ,EAAEE,CAAC,IAAG;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAIC,UAAU,GAAIhC,QAAQ,CAACC,aAAa,CAAC,eAAe,CAAC;IAEzD,IAAG+B,UAAU,IAAIC,SAAS,EAAE;MAExBD,UAAU,CAACE,MAAM,CAAC,CAAC;IACvB;IACC;IACLpC,WAAW,CAAC,CAAC;EAEb,CAAC,CAAC;AAGN,CAAC,CAAC,C","sources":["webpack://ctcl-order-status/./src/view.js"],"sourcesContent":["/**\n * Use this file for JavaScript code that you want to run in the front-end\n * on posts/pages that contain this block.\n *\n * When this file is defined as the value of the `viewScript` property\n * in `block.json` it will be enqueued on the front end of the site.\n *\n * Example:\n *\n * ```js\n * {\n *   \"viewScript\": \"file:./view.js\"\n * }\n * ```\n *\n * If you're not making any changes to this file because your project doesn't need any\n * JavaScript running in the front-end, then you should delete this file and remove\n * the `viewScript` property from `block.json`.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/block-api/block-metadata/#view-script\n */\n\nconst getResponse = async ()=>{\n\n\n    let fieldSet =  document.querySelector('#ctcl-order-status-check-fieldset');\n    \n    let apiUrl =  fieldSet.getAttribute('data-api-url');\n\n\n    const data = {\n        email: document.querySelector('#ctcl-email').value,\n        orderNumber: document.querySelector('#ctcl-order-number').value,\n    };\n\n\n  \n    try {\n\n\n\n        const response = await fetch(apiUrl, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(data)\n        });\n\n        if (!response.ok) {\n            throw new Error('Network response was not ok');\n        }\n\n        const jsonResponse = await response.json();\n        \n        if(jsonResponse.status == 'fail'){\n\n\n            alert(jsonResponse.note);\n\n        }else{\n\n            let note = document.createElement('div');\n\n            note.id = 'ctcl-success';\n            note.innerHTML = `<div style=\"margin-left:auto;margin-right:auto;display:block;\"><h5> Note : </h5><p>${jsonResponse.note}</p></div>`;\n            fieldSet.appendChild(note);\n\n        }\n\n        // Handle the response as needed\n    } catch (error) {\n        console.error('Error:', error);\n        // Handle the error as needed\n    }\n\n}\n\ndocument.addEventListener('DOMContentLoaded',()=>{\n\n \n    \n    let form =  document.querySelector('#ctcl-order-status-check');\n\n    form.addEventListener('submit',(e)=>{\n        e.preventDefault();\n        let messageBox  = document.querySelector('#ctcl-success');\n\n        if(messageBox != undefined ){\n\n            messageBox.remove();\n        }\n         // Prepare the data to be sent in the POST request\n    getResponse();\n\n    });\n\n\n});\n"],"names":["getResponse","fieldSet","document","querySelector","apiUrl","getAttribute","data","email","value","orderNumber","response","fetch","method","headers","body","JSON","stringify","ok","Error","jsonResponse","json","status","alert","note","createElement","id","innerHTML","appendChild","error","console","addEventListener","form","e","preventDefault","messageBox","undefined","remove"],"sourceRoot":""}